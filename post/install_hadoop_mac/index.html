<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.45" />
  <meta name="author" content="Zhang Hao">

  
  
  
  
    
      
    
  
  <meta name="description" content="It is an introduction of Hadoop installation under pseudo-distributed model. The difference among single node, pseudo-distributed and distributed is introduced here: link.
Install Homebrew and Cask Homebrew is a free and open-source software package management system that simplifies the installation of software on Apple&rsquo;s macOS operating system. Originally written by Max Howell, the package manager has gained popularity in the Ruby on Rails community and earned praise for its extensibility.">

  
  <link rel="alternate" hreflang="en-us" href="https://isaacchanghau.github.io/post/install_hadoop_mac/">

  


  

  
  
  <meta name="theme-color" content="#3f51b5">
  
  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Playfair&#43;Display:400,700%7cFauna&#43;One">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="https://isaacchanghau.github.io/index.xml" type="application/rss+xml" title="Isaac Changhau">
  <link rel="feed" href="https://isaacchanghau.github.io/index.xml" type="application/rss+xml" title="Isaac Changhau">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://isaacchanghau.github.io/post/install_hadoop_mac/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@https://twitter.com/IsaacChanghau">
  <meta property="twitter:creator" content="@https://twitter.com/IsaacChanghau">
  
  <meta property="og:site_name" content="Isaac Changhau">
  <meta property="og:url" content="https://isaacchanghau.github.io/post/install_hadoop_mac/">
  <meta property="og:title" content="Hadoop Installation on Mac OS X | Isaac Changhau">
  <meta property="og:description" content="It is an introduction of Hadoop installation under pseudo-distributed model. The difference among single node, pseudo-distributed and distributed is introduced here: link.
Install Homebrew and Cask Homebrew is a free and open-source software package management system that simplifies the installation of software on Apple&rsquo;s macOS operating system. Originally written by Max Howell, the package manager has gained popularity in the Ruby on Rails community and earned praise for its extensibility.">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-06-27T00:00:00&#43;08:00">
  
  <meta property="article:modified_time" content="2017-06-27T00:00:00&#43;08:00">
  

  

  <title>Hadoop Installation on Mac OS X | Isaac Changhau</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Isaac Changhau</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#tags">
            
            <span>Tags</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#achievements">
            
            <span>Achievements</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Hadoop Installation on Mac OS X</h1>

    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2017-06-27 00:00:00 &#43;0800 &#43;08" itemprop="datePublished dateModified">
      Tue, Jun 27, 2017
    </time>
  </span>
  <span itemscope itemprop="author publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Zhang Hao">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  

  

  
  

  

</div>

    
    <div class="article-style" itemprop="articleBody">
      

<p>It is an introduction of Hadoop installation under pseudo-distributed model. The difference among single node, pseudo-distributed and distributed is introduced here: <a href="https://stackoverflow.com/questions/23435333/what-is-the-difference-between-single-node-pseudo-distributed-mode-in-hadoop" target="_blank">link</a>.</p>

<h1 id="install-homebrew-and-cask">Install Homebrew and Cask</h1>

<p>Homebrew is a free and open-source software package management system that simplifies the installation of software on Apple&rsquo;s macOS operating system. Originally written by Max Howell, the package manager has gained popularity in the Ruby on Rails community and earned praise for its extensibility. Homebrew has been recommended for its ease of use as well as its integration into the command line.</p>

<pre><code class="language-bash">$ ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
$ brew install caskroom/cask/brew-cask
</code></pre>

<h1 id="install-java">Install Java</h1>

<p>Use Homebrew:</p>

<pre><code class="language-bash">$ brew update
$ brew cask install java
</code></pre>

<p>Or, download Java from offical website and install it manually: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank">link</a>.</p>

<h1 id="configure-ssh">Configure SSH</h1>

<p>In order to keep the safety of Hadoop remote administration as well as user sharing among Hadoop nodes, Hadoop requires SSH protocol. First, go to <code>System Preferences -&gt; Sharing</code>, change <code>Allow access for</code>: <strong>All Users</strong>. Then open Terminal, input <code>ssh localhost</code>, if terminal returns <code>Last login: Sun Jul  2 16:57:36 2017</code>, which means that you have configured SSH Keys successfully before.</p>

<p>If you suffer the problem of <code>ssh: connect to host localhost port 22: Connection refused</code>, it happens since the remote login is closed.</p>

<pre><code class="language-bash">$ sudo systemsetup -getremotelogin
Remote Login: off
</code></pre>

<p>You need to open port 22 in Mac OS X:</p>

<pre><code class="language-bash">$ sudo systemsetup -setremotelogin on
$ ssh localhost
Last login: ...
</code></pre>

<p>And if you did not get the information of <code>Last login: ...</code>, then you need to create a new configuration:</p>

<pre><code class="language-bash">$ ssh-keygen -t rsa
</code></pre>

<p>Executing the command above will generate a <code>id_rsa</code> file in <code>.ssh</code> directory under the current user directory, after that, input the following command:</p>

<pre><code class="language-bash">$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>

<p>which is used to authorize your public key to the local to prevent the passphrase request when you login, then, input <code>ssh localhost</code> again, if it will return <code>Last login: ...</code>.</p>

<h1 id="install-hadoop">Install Hadoop</h1>

<p>First, install Hadoop via Homebrew: <code>brew install hadoop</code>, it will install the hadoop under <code>/usr/local/Cellar/hadoop</code>.
Then, you need to modify the configuration files.</p>

<p>Go to <code>usr/local/Cellar/hadoop/2.8.0/libexec/etc/hadoop</code>, then open <code>hadoop-env.sh</code></p>

<pre><code class="language-xml">export HADOOP_OPTS=&quot;$HADOOP_OPTS -Djava.net.preferIPv4Stack=true&quot;
</code></pre>

<p>change to</p>

<pre><code class="language-xml">export HADOOP_OPTS=&quot;$HADOOP_OPTS -Djava.net.preferIPv4Stack=true -Djava.security.krb5.realm= -Djava.security.krb5.kdc=&quot;
export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home&quot;
</code></pre>

<p>Then configure HDFS address and port number, open <code>core-site.xml</code>, input following content in <code>&lt;configuration&gt;&lt;/configuration&gt;</code> tag</p>

<pre><code class="language-xml">&lt;!-- Put site-specific property overrides in this file. --&gt;
 &lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
        &lt;value&gt;/usr/local/Cellar/hadoop/hdfs/tmp&lt;/value&gt;
        &lt;description&gt;A base for other temporary directories.&lt;/description&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;fs.default.name&lt;/name&gt;
        &lt;value&gt;hdfs://localhost:8020&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>

<p>Configure <code>jobtracker</code> address and port number in map-reduce, first <code>sudo cp mapred-site.xml.template mapred-site.xml</code> to make a copy of <code>mapred-site.xml</code>, and open <code>mapred-site.xml</code>, add</p>

<pre><code class="language-xml">&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;mapred.job.tracker&lt;/name&gt;
        &lt;value&gt;localhost:8021&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>

<p>Set HDFS default backup, the default value is 3, we should change to 1, open <code>hdfs-site.xml</code>, add</p>

<pre><code class="language-xml">&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.replication&lt;/name&gt;
        &lt;value&gt;1&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>

<p>Before running background program, we should format the installed HDFS first, executing command <code>hdfs namenode -format</code>, when terminal returns a long inforamtion like:</p>

<pre><code class="language-bash">17/07/02 16:11:05 INFO namenode.NameNode: STARTUP_MSG: 
/************************************************************
......
17/07/02 16:11:07 INFO namenode.NameNode: SHUTDOWN_MSG: 
/************************************************************
SHUTDOWN_MSG: Shutting down NameNode at haodemacbook-pro.local/192.168.1.4
************************************************************/
</code></pre>

<p>It means that we finish HDFS configuration, and Hadoop is ready to launch. Besides, maybe you will get a warning</p>

<pre><code class="language-bash">$ ... WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
</code></pre>

<p>It happens since you are running on 64-bit system but Hadoop native library is based on 32-bit. This is not a big issue. If it appears, you can fixed by refering this link: <a href="https://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning" target="_blank">here</a>.</p>

<h1 id="launch-hadoop">Launch Hadoop</h1>

<p>Go to <code>/usr/local/Cellar/hadoop/2.8.0/sbin</code>, execute:</p>

<pre><code class="language-bash">$ ./start-dfs.sh # start HDFS service
$ ./stop-dfs.sh # stop HDFS service
</code></pre>

<p>Ternimal will return the following information:</p>

<pre><code class="language-bash">Starting namenodes on [localhost]
localhost: starting namenode, logging to /usr/local/Cellar/hadoop/2.8.0/libexec/logs/hadoop-zhanghao-namenode-HaodeMacBook-Pro.local.out
localhost: starting datanode, logging to /usr/local/Cellar/hadoop/2.8.0/libexec/logs/hadoop-zhanghao-datanode-HaodeMacBook-Pro.local.out
Starting secondary namenodes [0.0.0.0]
</code></pre>

<p>It means the local service launched successfully, then open Resource Manager in browser through the link <code>http://localhost:50070</code>, you can see the following page
<img src="/img/settings/hadoop/resource-manager.png" alt="Resource Manager" />
Samely, under current diretory, you can start the JobTracker through the commands:</p>

<pre><code class="language-bash">$ ./start-yarn.sh # start yarn, MapReduce framework
$ ./stop-yarn.sh # stop yarn
</code></pre>

<p>Then open browser and go to the page <code>http://localhost:8088</code>, Specific Node Information <code>http://localhost:8042</code>, you will see
<img src="/img/settings/hadoop/jobtracker.png" alt="JobTracker" />
<img src="/img/settings/hadoop/node-info.png" alt="Specific Node Information" />
Simply, you can execute <code>./start-all.sh</code> and <code>./stop-all.sh</code> to start or close all the hadoop service.
Finally, open <code>/etc/profile</code> and add the configuration information of Hadoop environment variables.</p>

<pre><code class="language-xml">export HADOOP_HOME=/usr/local/Cellar/hadoop/2.8.0
export PATH=$PATH:$HADOOP_HOME/sbin:$HADOOP_HOME/bin
</code></pre>

<p>Then you can start and close Hadoop under the user directory rather than go to <code>/usr/local/Cellar/hadoop/2.8.0/sbin</code> every time.</p>

<h1 id="reference">Reference</h1>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Homebrew_%28package_management_software%29" target="_blank">Homebrew</a></li>
<li><a href="http://codingxiaxw.cn/2016/12/06/59-mac-hadoop/" target="_blank">Installation and Usage of Hadoop</a></li>
<li><a href="http://dongfeiwww.com/hadoop/2014/09/05/hadoop-on-mac/" target="_blank">Hadoop on Mac</a></li>
<li><a href="http://www.aboutyun.com/thread-6839-1-1.html" target="_blank">Difference of single node, pseudo-distributed and distributed model of Hadoop</a></li>
<li><a href="https://stackoverflow.com/questions/23435333/what-is-the-difference-between-single-node-pseudo-distributed-mode-in-hadoop" target="_blank">What is the difference between single node &amp; pseudo-distributed mode in Hadoop?</a></li>
</ul>

    </div>

    


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/setting">setting</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/mac-os">mac-os</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/post/install_xgboost_mac/">Install XGBoost on Mac OS X</a></li>
        
        <li><a href="/post/mac_dict_extension/">MacOS Dictionary Application Extension</a></li>
        
        <li><a href="/post/install_opencv_java/">Installation of OpenCV for Java</a></li>
        
        <li><a href="/post/config_git_eclipse/">Configure BitBucket Git Repository in Eclipse</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017-2018 &middot; 

      <strong>Isaac Changhau (Zhang Hao)</strong>
      

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/scala.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/c.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/html.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ 
          tex2jax: { 
            inlineMath: [['$','$'], ['\\(','\\)']] 
          } 
        });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-xAWI9i8WMRLdgksuhaMCYMTw9D+MEc2cYVBApWwGRJ0cdcywTjMovOfJnlGt9LlEQj6QzyMzpIZLMYujetPcQg==" crossorigin="anonymous"></script>
    
    
    

  </body>
</html>

